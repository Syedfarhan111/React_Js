import{createContext as e,useRef as t,useState as n,useLayoutEffect as r,createElement as l,useContext as a,useEffect as i,useMemo as c,useCallback as u,Children as o,isValidElement as p,Fragment as s}from"react";import{createMemoryHistory as h,Action as f,parsePath as m}from"history";function d(e,t){if(!e)throw new Error(t)}const g=e(null),v=e({static:!1}),S=e({outlet:null,params:{},pathname:"",basename:"",route:null});function y({children:e,initialEntries:a,initialIndex:i}){let c=t();null==c.current&&(c.current=h({initialEntries:a,initialIndex:i}));let u=c.current,[o,p]=n({action:u.action,location:u.location});return r(()=>u.listen(p),[u]),l(b,{children:e,action:o.action,location:o.location,navigator:u})}function E({to:e,replace:t,state:n}){P()||d(!1);let r=W();return i(()=>{r(e,{replace:t,state:n})}),null}function x(e){return A()}function $({element:e=l(x,null)}){return e}function b({children:e=null,action:t=f.Pop,location:n,navigator:r,static:a=!1}){return P()&&d(!1),l(g.Provider,{value:r},l(v.Provider,{children:e,value:{action:t,location:n,static:a}}))}function w({basename:e="",children:t}){return O(k(t),R(),e)}function C(e,t=!0){P()||d(!1);let n=a(g);i(()=>{if(!t)return;let r=n.block(t=>{let n={...t,retry(){r(),t.retry()}};e(n)});return r},[n,e,t])}function N(e){P()||d(!1);let t=a(g),n=I(e);return t.createHref(n)}function P(){return null!=a(v).location}function R(){return P()||d(!1),a(v).location}function U(e){return P()||d(!1),D(e,R().pathname)}function W(){P()||d(!1);let e=a(g),{pathname:n,basename:r}=a(S),l=t(!1);return i(()=>{l.current=!0}),u((t,a={})=>{if(l.current)if("number"==typeof t)e.go(t);else{let l=G(t,n,r);(a.replace?e.replace:e.push)(l,a.state)}},[r,e,n])}function A(){return a(S).outlet}function F(){return a(S).params}function I(e){let{pathname:t,basename:n}=a(S);return c(()=>G(e,t,n),[e,t,n])}function _(e,t=""){P()||d(!1);let n=R();return O(c(()=>j(e),[e]),n,t)}function O(e,t,n=""){let{route:r,pathname:i,params:u}=a(S);n=n?K([i,n]):i;let o=c(()=>L(e,t,n),[t,e,n]);return o?o.reduceRight((e,{params:t,pathname:r,route:a})=>l(S.Provider,{children:a.element,value:{outlet:e,params:{...u,...t},pathname:K([n,r]),basename:n,route:a}}),null):null}function j(e){return e.map(e=>{let t={path:e.path||"/",caseSensitive:!0===e.caseSensitive,element:e.element||l(x,null)};return e.children&&(t.children=j(e.children)),t})}function k(e){let t=[];return o.forEach(e,e=>{if(!p(e))return;if(e.type===s)return void t.push.apply(t,k(e.props.children));let n={path:e.props.path||"/",caseSensitive:!0===e.props.caseSensitive,element:e};if(e.props.children){let t=k(e.props.children);t.length&&(n.children=t)}t.push(n)}),t}function H(e,t={}){return e.replace(/:(\w+)/g,(e,n)=>(null==t[n]&&d(!1),t[n])).replace(/\/*\*$/,e=>null==t["*"]?"":t["*"].replace(/^\/*/,"/"))}function L(e,t,n=""){"string"==typeof t&&(t=m(t));let r=t.pathname||"/";if(n){let e=n.replace(/^\/*/,"/").replace(/\/+$/,"");if(!r.startsWith(e))return null;r=r===e?"/":r.slice(e.length)}let l=function e(t,n=[],r="",l=[],a=[]){return t.forEach((t,i)=>{t={...t,path:t.path||"/",caseSensitive:!!t.caseSensitive,element:t.element};let c=K([r,t.path]),u=l.concat(t),o=a.concat(i);t.children&&e(t.children,n,c,u,o),n.push([c,u,o])}),n}(e);!function(e){let t=e.reduce((e,[t])=>(e[t]=function(e){let t=e.split("/"),n=t.length;t.some(z)&&(n+=-2);return t.filter(e=>!z(e)).reduce((e,t)=>e+(q.test(t)?2:""===t?1:10),n)}(t),e),{});!function(e,t){let n=e.slice(0);e.sort((e,r)=>t(e,r)||n.indexOf(e)-n.indexOf(r))}(e,(e,n)=>{let[r,,l]=e,a=t[r],[i,,c]=n,u=t[i];return a!==u?u-a:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}(l,c)})}(l);let a=null;for(let i=0;null==a&&i<l.length;++i)a=B(l[i],r);return a}const q=/^:\w+$/,z=e=>"*"===e;function B(e,t){let n=e[1],r="/",l={},a=[];for(let i=0;i<n.length;++i){let e=n[i],c="/"===r?t:t.slice(r.length)||"/",u=D({path:e.path,caseSensitive:e.caseSensitive,end:i===n.length-1},c);if(!u)return null;r=K([r,u.pathname]),l={...l,...u.params},a.push({route:e,pathname:r,params:l})}return a}function D(e,t){"string"==typeof e&&(e={path:e});let{path:n,caseSensitive:r=!1,end:l=!0}=e,[a,i]=function(e,t,n){let r=[],l="^("+e.replace(/^\/*/,"/").replace(/\/?\*?$/,"").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(e,t)=>(r.push(t),"([^\\/]+)"))+")";e.endsWith("*")?(e.endsWith("/*")?l+="(?:\\/(.+)|\\/?)":l+="(.*)",r.push("*")):n&&(l+="\\/?");n&&(l+="$");let a=t?void 0:"i";return[new RegExp(l,a),r]}(n,r,l),c=t.match(a);if(!c)return null;let u=c[1],o=c.slice(2);return{path:n,pathname:u,params:i.reduce((e,t,n)=>(e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(o[n]||""),e),{})}}function G(e,t="/",n=""){let{pathname:r,search:l="",hash:a=""}="string"==typeof e?m(e):e;return{pathname:r?function(e,t){let n=M((r=t,r.replace(/\/+$/,"")));var r;return M(e).forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?K(n):"/"}(r,r.startsWith("/")?n?J("/"+n):"/":t):t,search:l,hash:a}}const J=e=>e.replace(/\/\/+/g,"/"),K=e=>J(e.join("/")),M=e=>J(e).split("/");export{y as MemoryRouter,E as Navigate,x as Outlet,$ as Route,b as Router,w as Routes,v as UNSAFE_LocationContext,g as UNSAFE_NavigatorContext,S as UNSAFE_RouteContext,j as createRoutesFromArray,k as createRoutesFromChildren,H as generatePath,D as matchPath,L as matchRoutes,G as resolvePath,C as useBlocker,N as useHref,P as useInRouterContext,R as useLocation,U as useMatch,W as useNavigate,A as useOutlet,F as useParams,I as useResolvedPath,_ as useRoutes};
//# sourceMappingURL=react-router.production.min.js.map
