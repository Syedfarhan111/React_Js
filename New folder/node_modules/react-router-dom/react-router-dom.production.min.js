import{useRef as t,useState as e,useLayoutEffect as r,createElement as n,forwardRef as o,useCallback as a,useMemo as c}from"react";import{createBrowserHistory as i,createHashHistory as u,createPath as l}from"history";import{Router as s,useHref as f,useNavigate as h,useLocation as m,useResolvedPath as y,useBlocker as d}from"react-router";export{MemoryRouter,Navigate,Outlet,Route,Router,Routes,UNSAFE_LocationContext,UNSAFE_NavigatorContext,UNSAFE_RouteContext,createRoutesFromArray,createRoutesFromChildren,generatePath,matchPath,matchRoutes,resolvePath,useBlocker,useHref,useInRouterContext,useLocation,useMatch,useNavigate,useOutlet,useParams,useResolvedPath,useRoutes}from"react-router";function p({children:o,window:a}){let c=t();null==c.current&&(c.current=i({window:a}));let u=c.current,[l,f]=e({action:u.action,location:u.location});return r(()=>u.listen(f),[u]),n(s,{children:o,action:l.action,location:l.location,navigator:u})}function v({children:o,window:a}){let c=t();null==c.current&&(c.current=u({window:a}));let i=c.current,[l,f]=e({action:i.action,location:i.location});return r(()=>i.listen(f),[i]),n(s,{children:o,action:l.action,location:l.location,navigator:i})}const w=o((function({onClick:t,replace:e=!1,state:r,target:o,to:a,...c},i){let u=f(a),s=h(),d=m(),p=y(a);return n("a",{...c,href:u,onClick:function(n){if(t&&t(n),!(n.defaultPrevented||0!==n.button||o&&"_self"!==o||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(n))){n.preventDefault();let t=!!e||l(d)===l(p);s(a,{replace:t,state:r})}},ref:i,target:o})})),R=o((function({"aria-current":t="page",activeClassName:e="active",activeStyle:r,caseSensitive:o=!1,className:a="",end:c=!1,style:i,to:u,...l},s){let f=m(),h=y(u),d=f.pathname,p=h.pathname;o||(d=d.toLowerCase(),p=p.toLowerCase());let v=c?d===p:d.startsWith(p),R=v?t:void 0,g=[a,v?e:null].filter(Boolean).join(" "),C={...i,...v?r:null};return n(w,{...l,"aria-current":R,className:g,ref:s,style:C,to:u})}));function g({message:t,when:e}){return C(t,e),null}function C(t,e=!0){let r=a(e=>{window.confirm(t)&&e.retry()},[t]);d(r,e)}function A(e){let r=t(N(e)),n=m(),o=c(()=>{let t=N(n.search);for(let e of r.current.keys())t.has(e)||r.current.getAll(e).forEach(r=>{t.append(e,r)});return t},[n.search]),i=h();return[o,a((t,e)=>{i("?"+N(t),e)},[i])]}function N(t=""){return new URLSearchParams("string"==typeof t||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(t=>[r,t]):[[r,n]])},[]))}export{p as BrowserRouter,v as HashRouter,w as Link,R as NavLink,g as Prompt,N as createSearchParams,C as usePrompt,A as useSearchParams};
//# sourceMappingURL=react-router-dom.production.min.js.map
